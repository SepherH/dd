# 爬取資料匯入資料庫測試計劃

## 目標

本測試計劃旨在驗證爬取的臺中市交通事件裁決處酒駕累犯資料是否能成功匯入 MariaDB 資料庫。

## 測試範圍

1. **資料來源**: 使用已爬取並解析的臺中市交通事件裁決處酒駕累犯 JSON 資料
2. **測試環境**: 本機開發環境的 MariaDB 資料庫
3. **測試工具**: 新建的 `importDataToDb.ts` 匯入工具

## 測試前置條件

1. 資料庫已正確設定且可連線
2. 已建立必要的資料表結構
3. 爬取的資料已解析為 JSON 格式

## 測試步驟

1. **連線測試**
   - 測試資料庫連線是否正常

2. **資料轉換測試**
   - 測試 JSON 資料是否能正確轉換為資料庫模型格式
   - 測試民國年日期格式是否能正確轉換為標準日期格式

3. **資料匯入測試**
   - 測試單一 JSON 檔案匯入功能
   - 測試批量 JSON 檔案匯入功能
   - 測試重複資料處理機制

4. **查詢驗證**
   - 匯入後查詢資料庫驗證資料完整性和正確性
   - 驗證違規者資料和來源資料關聯是否正確

## 預期結果

1. 所有爬取的資料能順利匯入資料庫
2. 資料格式轉換正確，包括日期、違規類型等
3. 重複資料能被正確識別並避免重複匯入
4. 來源資訊能正確關聯至每筆違規記錄

## 測試數據

預計測試處理 5 個 PDF 檔案的解析結果，約 159 筆違規記錄：
- 114年7月：72筆記錄
- 114年6月：87筆記錄（來自4個不同的PDF檔案）

## 測試結果紀錄

執行測試後將在此處記錄測試結果：
- 測試時間：
- 處理檔案數：
- 總記錄數：
- 成功匯入數：
- 失敗記錄數：
- 特殊情況說明：

## 後續改進計劃

根據測試結果，將提出以下改進建議：
1. 優化資料匯入流程
2. 改進錯誤處理機制
3. 提高資料轉換準確度
4. 提升匯入效能
