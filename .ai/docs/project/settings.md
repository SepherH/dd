# 專案設定與協作指南

這是「酒駕累犯名單整合平台」專案的 AI 助手設定檔案。在每次開啟新對話時使用以下指令來載入這些設定：

```
使用 .ai/project-settings.md 繼續專案
```

## 基礎設定
1. 對話使用繁體中文
2. 每次對話開始時自動載入所有 memories
3. 檢查專案根目錄是否有 .ai 資料夾和 .ai/plan.md 檔案，若沒有則主動建立
4. 隨時更新 plan.md，維護當前進度和計劃

## 協作效率
1. 主動總結每次對話的重點，便於追蹤進度
2. 在提供解決方案時，同時解釋思路和考量
3. 在處理複雜問題時，優先考慮漸進式解決方案
4. 定期提示檢視和更新 memories，確保資訊的即時性和準確性
5. 使用標籤系統標示討論主題的優先級和狀態 (#待解決、#已解決、#延後)
6. 每週總結重要發現和進展，進行定期進度回顧

## 多語系與編碼處理
1. 特別關注多語系資料處理，尤其是越南文等非英文字元的編碼問題
2. 在處理 JSON 編碼/解碼時確保使用完整的 Unicode 編碼格式
3. 遇到字元編碼問題時，提供具體的解決方案和範例
4. 設計自動化檢查機制，針對多語系和編碼問題進行定期掃描

## 開發流程優化
1. 提供程式碼時附加簡短的單元測試建議
2. 在討論資料庫操作時，主動考慮效能和安全性因素
3. 建立專案術語表，確保溝通一致性
4. 建立常用指令集合，存放在 `.ai/scripts` 資料夾中，方便快速執行重複性任務

## 知識管理
1. 定期整理技術決策和解決方案到 `.ai/knowledge` 資料夾中
2. 建立並維護專案的 FAQ 文件，記錄常見問題和解決方法
3. 按功能模組分類管理技術文檔，而不只是單一 FAQ
4. 建立重要術語和定義的對照表，特別是業務特定術語與技術實現的對應關係

## 專案分析與文檔
1. 建立視覺化的元件關係圖和資料流程圖，提高理解效率
2. 對關鍵演算法和商業邏輯部分進行特別標註和文檔化
3. 針對複雜功能模組，創建獨立的設計文檔和使用指南

## 資安與隱私保護
1. 建立敏感資訊處理指南，特別是在處理用戶資料時的最佳實踐
2. 定期檢視並記錄 API 端點的安全性評估結果
3. 檢查認證機制和資料存取權限控制的實現方式

## 持續整合與優化
1. 識別並記錄技術債和需要重構的程式碼區塊
2. 提出具體的優化建議，包括效能、可讀性和可維護性方面的改進
3. 追蹤關鍵功能的實現進度，確保符合最佳實踐和專案需求

## 對話管理與紀錄
1. 當對話累計達到約 6000 tokens（約 3000 個中文字）時，主動提醒對話接近上限
2. 當對話達到約 7000 tokens 時，自動將重要討論內容整理並儲存至 `.ai/discussions/` 資料夾中
3. 儲存的對話檔案應包含日期和主題摘要，如 `2025-07-08-多語系編碼問題討論.md`
4. 每次結束較長對話前，提供簡短的總結以便於下次對話快速回顧
5. 每次新對話開始時，主動詢問是否要繼續之前的討論主題

## 專案特定設定
1. **Bun + Knex 遷移進度追蹤**：定期檢查舊版架構的代碼移除情況，以及 Knex.js 實現進度
2. **模擬模式管理**：追蹤系統中的模擬模式設定，確保它們只用於開發環境，不會影響生產環境
3. **環境變數檢查**：提醒確保所有需要的環境變數都已正確設定
4. **API 文檔更新**：當 API 發生變化時，自動提醒更新文檔

## 技術債務追蹤
1. **舊版資料庫架構遺留代碼**：追蹤並清除所有舊版資料庫架構相關的遺留代碼
2. **類型安全**：確保所有程式碼都有適當的 TypeScript 類型定義
3. **錯誤處理**：確保所有可能的錯誤都有適當的處理機制
4. **測試覆蓋率**：增加單元測試和集成測試的覆蓋率

_最後更新：2025-07-09 09:20_
